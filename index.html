<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Místico - Experiência Imersiva</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- LOADING SCREEN -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Preparando a sala mística...</div>
    </div>

    <!-- CENÁRIO MÍSTICO -->
    <div class="mystic-room">
        <canvas id="particlesCanvas"></canvas>
        <canvas id="candlesCanvas"></canvas>
        <div class="room-background"></div>
        <div class="table-surface"></div>
        <div class="crystal-ball" id="crystalBall"></div>
        <div class="incense-smoke"></div>
    </div>
    
    <!-- SPOTLIGHT EFFECT -->
    <div class="spotlight" id="spotlight"></div>
    
    <!-- INDICADOR DE VOZ -->
    <div class="voice-indicator" id="voiceIndicator">
        <div class="voice-wave">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        <span class="voice-indicator-text">A vidente está falando...</span>
    </div>
    
    <!-- TELAS DE SESSÃO -->
    <div class="session-screen" id="welcomeScreen">
        <div class="session-message" id="welcomeMessage"></div>
        <button class="btn-primary btn-continue" id="continueFromWelcome" style="display: none;">
            <i class="fas fa-arrow-right"></i> Continuar
        </button>
    </div>
    
    <div class="session-screen" id="instructionsScreen">
        <div class="session-message" id="instructionsMessage"></div>
        <button class="btn-primary" id="startSelection" style="display: none;">
            <i class="fas fa-hand-pointer"></i> Estou Pronto
        </button>
    </div>
    
    <div class="session-screen" id="interpretingScreen">
        <div class="session-message" id="interpretingMessage"></div>
        <button class="btn-primary btn-continue" id="continueFromInterpreting" style="display: none;">
            <i class="fas fa-check"></i> Finalizar
        </button>
    </div>
    
    <div class="session-screen" id="completeScreen">
        <div class="session-message" id="completeMessage"></div>
    </div>
    
    <!-- TELA DE REVELAÇÃO DE CARTA -->
    <div class="card-reveal-screen" id="cardRevealScreen">
        <div class="card-reveal-content">
            <div class="reveal-position-label" id="revealPosition"></div>
            <div class="reveal-card-container">
                <img class="reveal-card-image" id="revealCardImage" src="" alt="Carta de Tarot">
            </div>
            <div class="reveal-card-info">
                <h2 class="reveal-card-name" id="revealCardName"></h2>
                <p class="reveal-card-meaning" id="revealCardMeaning"></p>
            </div>
            <!-- Legendas da fala da vidente -->
            <div class="reveal-speech-container">
                <div class="reveal-speech-icon">
                    <i class="fas fa-comment-dots"></i>
                </div>
                <p class="reveal-speech-text" id="revealSpeechText"></p>
            </div>
        </div>
    </div>
    
    <!-- CONTROLES FIXOS (SEMPRE VISÍVEIS) -->
    <div class="fixed-controls">
        <button class="voice-control tooltip" id="voiceToggle" data-tooltip="Ativar/Desativar Voz">
            <i class="fas fa-volume-up"></i>
        </button>
        <button class="music-control tooltip" id="musicToggle" data-tooltip="Ativar/Desativar Música">
            <i class="fas fa-music"></i>
        </button>
        <button class="voice-control tooltip" id="voiceSelector" data-tooltip="Selecionar Voz">
            <i class="fas fa-microphone"></i>
        </button>
    </div>
    
    <!-- CONTEÚDO PRINCIPAL -->
    <div class="main-content">
        <header id="mainHeader">
            <div class="title-container">
                <div class="title-glow"></div>
                <h1 class="floating">Tarot Místico</h1>
            </div>
            <p class="subtitle">Descubra os segredos que as cartas revelam</p>
            
            <div class="controls">
                <button class="btn-primary" id="startSession">
                    <i class="fas fa-sparkles"></i> Iniciar Sessão
                </button>
            </div>
            
            <!-- Modal de Seleção de Voz -->
            <div class="voice-modal" id="voiceModal">
                <div class="voice-modal-content">
                    <h3><i class="fas fa-microphone-alt"></i> Selecionar Voz da Vidente</h3>
                    <p class="voice-modal-subtitle">Escolha a voz que mais lhe agrada</p>
                    <div class="voice-list" id="voiceList">
                        <!-- Vozes serão inseridas aqui via JavaScript -->
                    </div>
                    <button class="btn-secondary" id="closeVoiceModal">
                        <i class="fas fa-times"></i> Fechar
                    </button>
                </div>
            </div>
        </header>
        
        <div class="instructions" id="selectingInstructions" style="display: none;">
            <p>Escolha 3 cartas para receber sua leitura personalizada...</p>
            <div class="counter">Cartas selecionadas: <span id="selectedCount">0</span>/3</div>
        </div>
        
        <div class="tarot-container" id="tarotDeck">
            <!-- Cartas serão geradas via JavaScript -->
        </div>
        
        <div class="selected-cards" id="selectedCards">
            <!-- Cartas selecionadas aparecerão aqui -->
        </div>
        
        <div class="reading-result" id="readingResult">
            <h2 class="reading-title"><i class="fas fa-crystal-ball"></i> Sua Leitura de Tarot</h2>
            <div id="interpretations">
                <!-- Interpretações das cartas aparecerão aqui -->
            </div>
            <div class="reading-actions">
                <button class="btn-primary" id="newReading">
                    <i class="fas fa-redo"></i> Nova Consulta
                </button>
            </div>
        </div>
    </div>

    <audio id="backgroundMusic" loop>
        <source src="music/fundo.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="cardFlipSound">
        <source src="music/cartaVirando.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="revealSound">
        <source src="music/revelacao.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>
